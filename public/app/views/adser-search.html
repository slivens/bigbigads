<div ng-controller="AdserSearchController" class="ml-sidebar">
<!-- BEGIN MAIN CONTENT -->
<div class="row">
    <div class="col-md-12">
        <!-- BEGIN: ACCORDION DEMO -->
        <div class="">
            <div class="mb10">
                <div class="row">
                    <div class="col-xs-12">
                        <!-- BEGIN HEADER SEARCH BOX -->
                        <form class="search-form" ng-submit="search()">

                                <div class="col-xs-8">
                                    <div class="input-group">
                                        <input type="text" class="form-control input-lg" placeholder="Search" ng-model="adSearcher.searchOption.search.text">
                                        <span class="input-group-addon">
                                            <select ng-model="filterOption.type" ng-options="item.key as item.value for item in settings.searchSetting.adsTypes">
                                                <option value="">ALL</option>
                                            </select>
                                        </span>
                                    </div>
                                </div>
                                <div class="col-xs-4">
                                    <button type="submit" class="btn yellow-gold btn-lg" policy-lock key="adser_search" trigger="lockButton">
                                        Search
                                    </button>
                                </div>
                        </form>
                <!-- END HEADER SEARCH BOX -->
                    </div>
                    <!-- <div class="col-md-6"> -->
                    <!--     <button class="btn blue btn-outline btn-md">Export</button> -->
                    <!--     <button class="btn default btn-outline btn-md " disabled="disabled">Subscribe</button> -->
                    <!-- </div> -->
                </div>
                <div class="alert alert-warning margin-top-10" ng-show="currSearchOption.isdirty">
                    <!-- <div> -->
                    <!--     <h4><a ng-click="clearSearch()">Clear Search</a></h4> -->
                    <!-- </div> -->
                    <div ng-if="currSearchOption.filter.type">Media Type:{{currSearchOption.filter.type}}</div>
                    <div ng-if="currSearchOption.search.text">Search Text:{{currSearchOption.search.text}}</div>
                    <div ng-if="currSearchOption.filter.date.startDate && currSearchOption.filter.date.endDate">Date:{{currSearchOption.filter.date.startDate.format("YYYY-MM-DD")}} ~ {{currSearchOption.filter.date.endDate.format("YYYY-MM-DD")}}</div>
                    <div ng-if="currSearchOption.range">Range:{{currSearchOption.range}}</div>
                    <div ng-if="currSearchOption.filter.state">Country:{{currSearchOption.filter.state}}</div>
                    <div ng-if="currSearchOption.domain.text">Domain:{{currSearchOption.domain.text}}({{currSearchOption.domain.exclude ? "Not Contain" : "Must Contain"}})</div>
                    <div ng-if="currSearchOption.audience.text">Audience:{{currSearchOption.audience.text}}({{currSearchOption.audience.exclude ? "Not Contain" : "Must Contain"}})</div>
                    <div ng-if="currSearchOption.category">Category:{{currSearchOption.category}}</div>
                    <div ng-if="currSearchOption.format">Format:{{currSearchOption.format}}</div>
                    <div ng-if="currSearchOption.callToAction">Call To Action:{{currSearchOption.callToAction}}</div>
                    <div ng-if="currSearchOption.filter.lang.length">Language:{{currSearchOption.filter.lang}}</div>
                    <div ng-if="currSearchOption.filter.isDurationDirty()">Duration Range:{{currSearchOption.filter.duration.from}}~{{currSearchOption.filter.duration.to}}</div>
                    <div ng-if="currSearchOption.filter.isSeeTimesDirty()">See Times Range:{{currSearchOption.filter.seeTimes.from}}~{{currSearchOption.filter.seeTimes.to}}</div>
                    <div ng-if="currSearchOption.filter.isEngagementsDirty()">Engagements Filters:
                        <div ng-if="currSearchOption.filter.engagements.likes.min || currSearchOption.filter.engagements.likes.max">Likes: {{currSearchOption.filter.engagements.likes.min}}~{{currSearchOption.filter.engagements.likes.max}}</div>
                        <div ng-if="currSearchOption.filter.engagements.shares.min || currSearchOption.filter.engagements.shares.max">Shares: {{currSearchOption.filter.engagements.shares.min}}~{{currSearchOption.filter.engagements.shares.max}}</div>
                        <div ng-if="currSearchOption.filter.engagements.comments.min || currSearchOption.filter.engagements.comments.max">Comments: {{currSearchOption.filter.engagements.comments.min}}~{{currSearchOption.filter.engagements.comments.max}}</div>
                        <div ng-if="currSearchOption.filter.engagements.views.min || currSearchOption.filter.engagements.views.max">Video Views: {{currSearchOption.filter.engagements.views.min}}~{{currSearchOption.filter.engagements.views.max}}</div>
                        <div ng-if="currSearchOption.filter.engagements.engagements.min || currSearchOption.filter.engagements.engagements.max">Engagements: {{currSearchOption.filter.engagements.engagements.min}}~{{currSearchOption.filter.engagements.engagements.max}}</div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-xs-12">
            <div class="pull-right">
                <form class="form-inline">
                <div class="form-group">
                    <!-- <button class="btn yellow-gold btn-sm" ng-class="{'active':!adSearcher.params.sort.order}" ng-click="reverseSort()">Reverse</button> -->
                    <span class="xg-mr5">Sort By</span>
                    <select class="form-control bs-select"  data-width="150px" ng-model="adSearcher.params.sort.field"  ng-change="adSearcher.filter()">
                        <option policy-lock key="{{item.permission}}" trigger="lockButton" value="{{item.key}}" ng-repeat="item in settings.searchSetting.orderBy" ng-class='{"xg-order-border":item.last}'>
                            {{item.value}}
                        </option>
                    </select>
                </div>
                </form>
            </div>
            <div class="xg-count-mt">
                <span>About {{adSearcher.ads.total_adser_count}} results(Total {{adSearcher.ads.total_ads_count}} ads)</span>
            </div>
        </div>
        <div infinite-scroll="adSearcher.getMore()" infinite-scroll-distance="0" infinite-scroll-disabled="adSearcher.busy || adSearcher.isend">
            <div deckgrid source="adSearcher.ads.adser" class="deckgrid" cardTemplate="views/adser-search-card.html">
            </div>
            <div class="clearfix">
            </div>
			<div class="text-center" ng-show="adSearcher.busy">
				<i class="fa fa-spinner fa-spin fa-3x fa-fw"></i>
				<span class="sr-only">Loading...</span>
			</div>
        </div>
    </div>
</div>

<!-- sidebar and sidebar controller -->
 <!-- <button type="button" class="bg-yellow-gold quick-sidebar-toggler" data-toggle="collapse"> -->
			<!-- <span class="sr-only">Toggle Filter Sidebar</span> -->
			<!-- <i class="icon-grid"></i> -->
 <!-- </button> -->

 <div data-ng-include="'tpl/quick-sidebar.html'" data-ng-controller="QuickSidebarController" class="page-quick-sidebar-wrapper"></div>

</div>
<!-- END MAIN CONTENT -->

