<div class="ml-sidebar advertiser container" id="owner-search">
    <!-- BEGIN MAIN CONTENT -->
    <div class="row">
        <!-- BEGIN: ACCORDION DEMO -->
        <div class="mb10">
            <div class="adser-search clearfix">
                <!-- BEGIN HEADER SEARCH BOX -->
                <form class="search-form" ng-submit="search()">
                    <div class="col-xs-12 col-md-6 col-md-offset-3">
                        <div class="adser-search-wrapper">
                            <input type="text" class="form-control" placeholder="Enter a keyword,url or Advertiser" ng-model="adSearcher.searchOption.search.text">
                            <button type="submit" class="fa fa-search ads-font-24  adser-search-btn" policy-lock key="adser_search" trigger="lockButton">
                            </button>
                        </div>
                    </div>
                </form>
                <!-- END HEADER SEARCH BOX -->
            </div>
            <hr style="border-top:1px solid #dbdee6">

            <div class="alert alert-warning margin-top-10" ng-show="currSearchOption.isdirty">
                <!-- <div> -->
                <!--     <h4><a ng-click="clearSearch()">Clear Search</a></h4> -->
                <!-- </div> -->
                <div ng-if="currSearchOption.filter.type">Media Type:{{currSearchOption.filter.type}}</div>
                <div ng-if="currSearchOption.search.text">Search Text:{{currSearchOption.search.text}}</div>
                <div ng-if="currSearchOption.filter.date.startDate && currSearchOption.filter.date.endDate">Date:{{currSearchOption.filter.date.startDate.format("YYYY-MM-DD")}} ~ {{currSearchOption.filter.date.endDate.format("YYYY-MM-DD")}}</div>
                <div ng-if="currSearchOption.range">Range:{{currSearchOption.range}}</div>
                <div ng-if="currSearchOption.filter.state">Country:{{currSearchOption.filter.state}}</div>
                <div ng-if="currSearchOption.domain.text">Domain:{{currSearchOption.domain.text}}({{currSearchOption.domain.exclude ? "Not Contain" : "Must Contain"}})</div>
                <div ng-if="currSearchOption.audience.text">Audience:{{currSearchOption.audience.text}}({{currSearchOption.audience.exclude ? "Not Contain" : "Must Contain"}})</div>
                <div ng-if="currSearchOption.category">Category:{{currSearchOption.category}}</div>
                <div ng-if="currSearchOption.format">Format:{{currSearchOption.format}}</div>
                <div ng-if="currSearchOption.callToAction">Call To Action:{{currSearchOption.callToAction}}</div>
                <div ng-if="currSearchOption.filter.lang.length">Language:{{currSearchOption.filter.lang}}</div>
                <div ng-if="currSearchOption.filter.isDurationDirty()">Duration Range:{{currSearchOption.filter.duration.from}}~{{currSearchOption.filter.duration.to}}</div>
                <div ng-if="currSearchOption.filter.isSeeTimesDirty()">See Times Range:{{currSearchOption.filter.seeTimes.from}}~{{currSearchOption.filter.seeTimes.to}}</div>
                <div ng-if="currSearchOption.filter.isEngagementsDirty()">Engagements Filters:
                    <div ng-if="currSearchOption.filter.engagements.likes.min || currSearchOption.filter.engagements.likes.max">Likes: {{currSearchOption.filter.engagements.likes.min}}~{{currSearchOption.filter.engagements.likes.max}}</div>
                    <div ng-if="currSearchOption.filter.engagements.shares.min || currSearchOption.filter.engagements.shares.max">Shares: {{currSearchOption.filter.engagements.shares.min}}~{{currSearchOption.filter.engagements.shares.max}}</div>
                    <div ng-if="currSearchOption.filter.engagements.comments.min || currSearchOption.filter.engagements.comments.max">Comments: {{currSearchOption.filter.engagements.comments.min}}~{{currSearchOption.filter.engagements.comments.max}}</div>
                    <div ng-if="currSearchOption.filter.engagements.views.min || currSearchOption.filter.engagements.views.max">Video Views: {{currSearchOption.filter.engagements.views.min}}~{{currSearchOption.filter.engagements.views.max}}</div>
                    <div ng-if="currSearchOption.filter.engagements.engagements.min || currSearchOption.filter.engagements.engagements.max">Engagements: {{currSearchOption.filter.engagements.engagements.min}}~{{currSearchOption.filter.engagements.engagements.max}}</div>
                </div>
            </div>
            
        </div>
        <div class="col-xs-12">
            <div class="pull-right">
                <form class="form-inline">
                    <div class="form-group">
                        <span class="xg-mr5">Sort By</span>
                        <select class="form-control bs-select" data-width="190px" ng-model="adSearcher.params.sort.field" ng-change="adSearcher.filter()">
                            <option policy-lock key="{{item.permission}}" trigger="lockButton" value="{{item.key}}" ng-repeat="item in settings.searchSetting.orderBy" ng-class='{"xg-order-border":item.last}'>
                                {{item.value}}
                            </option>
                        </select>
                    </div>
                </form>
            </div>
            <div class="xg-count-mt search-result">
                <span>About <span class="font-yellow-gold">{{adSearcher.ads.total_adser_count | adsCount}}</span> results(Total <span class="font-yellow-gold">{{adSearcher.ads.total_ads_count | adsCount}}</span> ads)</span>
            </div>

        </div>
        <div infinite-scroll="adSearcher.getMore()" class="clearfix" infinite-scroll-distance="0" infinite-scroll-disabled="adSearcher.busy || adSearcher.isend">
            <div deckgrid source="adSearcher.ads.adser_info" class="deckgrid clearfix" cardTemplateString="<adser-search-card />">
            </div>
            <div class="clearfix">
            </div>
            <div class="text-center " ng-if="adSearcher.busy && adSearcher.params.limit[0] != 0">
                <i class="fa fa-spinner fa-spin fa-3x fa-fw"></i>
            </div>
            <div class="text-center owber-search-loding" ng-show="adSearcher.busy && (currSearchOption.search.text || adSearcher.params.where.length > 0) && adSearcher.params.limit[0] === 0">
               <i class="fa fa-spinner fa-spin fa-3x fa-fw"></i>
            </div>
        </div>
    </div>
</div>
<!-- END MAIN CONTENT -->